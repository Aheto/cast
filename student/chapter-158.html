<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 159 ‚Äî Magic E Syllables (Long a)"/>
  <title>Mini OpenStax ‚Äî Lesson 159: Magic E (Long a)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 159: Magic E (Long a)</h1>
        <div class="lo-tags" id="lo-tags">LO PH159: Decode multi-syllable Magic E words where a = /ƒÅ/</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Multi-syllable words featuring the <strong>Magic E</strong> pattern (Long a sound):</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. All words are decodable through Lesson 159:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 158;    // chapter-158.html = Lesson 159
      const maxChapter = 262;        

      const CHAPTER_CONFIG = {
        title: "Lesson 159: Magic E (Long a)",
        loTags: ["LO PH159: Decode multi-syllable Magic E words where a = /ƒÅ/"],
        contentWords: [
          "awake", "mistake", "insane", "airplane", "amaze", "escape", "engage", "embrace", "disgrace", "indicate", "complicate", "hesitate"
        ],
        sentences: [
          "A black cloud may indicate that rain is on the way.",
          "The animal at the zoo could not escape from its cage.",
          "Grace and her sister embrace when they see each other.",
          "The clown can do magic tricks that amaze the children.",
          "An airplane can travel a long distance in a single day.",
          "The poor conduct of the player is a disgrace to his team.",
          "When you make a mistake, you shouldn't hesitate to admit it.",
          "Jake was awake at six, but he didn't get out of bed until seven."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Which word means to get away from a place where you are held?", options: [{id:"a",text:"engage",is_correct:false},{id:"b",text:"escape",is_correct:true},{id:"c",text:"embrace",is_correct:false},{id:"d",text:"indicate",is_correct:false}] },
          { id: "2", prompt: "What may a black cloud indicate?", options: [{id:"a",text:"that snow is coming",is_correct:false},{id:"b",text:"that rain is on the way",is_correct:true},{id:"c",text:"that it is six o'clock",is_correct:false},{id:"d",text:"that a plane is landing",is_correct:false}] },
          { id: "3", prompt: "What sound does the 'a' make in 'mistake'?", options: [{id:"a",text:"Short a",is_correct:false},{id:"b",text:"Long a",is_correct:true},{id:"c",text:"/ah/",is_correct:false},{id:"d",text:"It is silent",is_correct:false}] },
          { id: "4", prompt: "Where could the animal not escape from?", options: [{id:"a",text:"its cage",is_correct:true},{id:"b",text:"the plane",is_correct:false},{id:"c",text:"the bed",is_correct:false},{id:"d",text:"the team",is_correct:false}] },
          { id: "5", prompt: "Which word means to hug?", options: [{id:"a",text:"indicate",is_correct:false},{id:"b",text:"hesitate",is_correct:false},{id:"c",text:"embrace",is_correct:true},{id:"d",text:"amaze",is_correct:false}] },
          { id: "6", prompt: "What time was Jake awake?", options: [{id:"a",text:"five",is_correct:false},{id:"b",text:"six",is_correct:true},{id:"c",text:"seven",is_correct:false},{id:"d",text:"eight",is_correct:false}] },
          { id: "7", prompt: "Which word means a loss of reputation or respect?", options: [{id:"a",text:"disgrace",is_correct:true},{id:"b",text:"mistake",is_correct:false},{id:"c",text:"engage",is_correct:false},{id:"d",text:"amaze",is_correct:false}] },
          { id: "8", prompt: "What can an airplane travel in a single day?", options: [{id:"a",text:"a short path",is_correct:false},{id:"b",text:"a long distance",is_correct:true},{id:"c",text:"a cage",is_correct:false},{id:"d",text:"a black cloud",is_correct:false}] },
          { id: "9", prompt: "What should you not do when you make a mistake?", options: [{id:"a",text:"hesitate to admit it",is_correct:true},{id:"b",text:"embrace your sister",is_correct:false},{id:"c",text:"get out of bed",is_correct:false},{id:"d",text:"indicate rain",is_correct:false}] },
          { id: "10", prompt: "Which word means to fill with great surprise or wonder?", options: [{id:"a",text:"amaze",is_correct:true},{id:"b",text:"insane",is_correct:false},{id:"c",text:"awake",is_correct:false},{id:"d",text:"escape",is_correct:false}] },
          { id: "11", prompt: "How many syllables are in the word 'indicate'?", options: [{id:"a",text:"1",is_correct:false},{id:"b",text:"2",is_correct:false},{id:"c",text:"3",is_correct:true},{id:"d",text:"4",is_correct:false}] },
          { id: "12", prompt: "Identify the long 'a' word: 'An airplane can travel far.'", options: [{id:"a",text:"travel",is_correct:false},{id:"b",text:"far",is_correct:false},{id:"c",text:"airplane",is_correct:true},{id:"d",text:"can",is_correct:false}] },
          { id: "13", prompt: "Which word means to pause before doing something?", options: [{id:"a",text:"hesitate",is_correct:true},{id:"b",text:"indicate",is_correct:false},{id:"c",text:"complicate",is_correct:false},{id:"d",text:"engage",is_correct:false}] },
          { id: "14", prompt: "The 'e' at the end of 'awake' makes the 'a' say what?", options: [{id:"a",text:"its name",is_correct:true},{id:"b",text:"/ah/",is_correct:false},{id:"c",text:"/a/ as in apple",is_correct:false},{id:"d",text:"nothing",is_correct:false}] },
          { id: "15", prompt: "What time did Jake finally get out of bed?", options: [{id:"a",text:"six",is_correct:false},{id:"b",text:"seven",is_correct:true},{id:"c",text:"eight",is_correct:false},{id:"d",text:"nine",is_correct:false}] },
          { id: "16", prompt: "Which word rhymes with 'plane'?", options: [{id:"a",text:"insane",is_correct:true},{id:"b",text:"amaze",is_correct:false},{id:"c",text:"escape",is_correct:false},{id:"d",text:"awake",is_correct:false}] },
          { id: "17", prompt: "What kind of tricks can the clown do?", options: [{id:"a",text:"boring tricks",is_correct:false},{id:"b",text:"magic tricks",is_correct:true},{id:"c",text:"simple tricks",is_correct:false},{id:"d",text:"scary tricks",is_correct:false}] },
          { id: "18", prompt: "Which word means to make something more difficult?", options: [{id:"a",text:"complicate",is_correct:true},{id:"b",text:"indicate",is_correct:false},{id:"c",text:"hesitate",is_correct:false},{id:"d",text:"engage",is_correct:false}] },
          { id: "19", prompt: "How many letters are in 'disgrace'?", options: [{id:"a",text:"7",is_correct:false},{id:"b",text:"8",is_correct:true},{id:"c",text:"9",is_correct:false},{id:"d",text:"6",is_correct:false}] },
          { id: "20", prompt: "In Magic E words, the final 'e' is usually:", options: [{id:"a",text:"Long",is_correct:false},{id:"b",text:"Silent",is_correct:true},{id:"c",text:"Short",is_correct:false},{id:"d",text:"Loud",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 159*\nStudent: [Name]\nScore: ${score}\n\n`;
        const correctStr = correctList.length ? '‚úÖ CORRECT:\n' + correctList.join('\n\n') + '\n\n' : '';
        const incorrectStr = incorrectList.length ? '‚ùå INCORRECT:\n' + incorrectList.join('\n\n') : '';
        const message = encodeURIComponent(summary + correctStr + incorrectStr + `\nReport generated via Mini OpenStax. Share with instructor: https://wa.me/${CHAPTER_CONFIG.whatsappNumber}`);
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><strong>${correctCount >= 15 ? 'Excellent! You‚Äôve mastered multi-syllable Magic E words!' : correctCount >= 10 ? 'Good! Review missed items.' : 'Practice Lesson 159 words again.'}</strong></p>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
[cite_start]``` [cite: 136, 151]

Would you like me to prepare the code for Lesson 160?
