<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 80 ‚Äî ng/nk Patterns (-onk)"/>
  <title>Mini OpenStax ‚Äî Lesson 80: -onk Pattern</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 80: -onk Pattern</h1>
        <div class="lo-tags" id="lo-tags">LO PH80: Decode words with the -onk pattern (ng/nk family)</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Words ending in the <strong>-onk</strong> pattern (part of the <em>ng/nk</em> family):</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. All words are decodable from Lessons 2‚Äì80:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 79;    // chapter-79.html = Lesson 80
      const maxChapter = 150;        

      const CHAPTER_CONFIG = {
        title: "Lesson 80: -onk Pattern",
        loTags: ["LO PH80: Decode words with the -onk pattern (ng/nk family)"],
        contentWords: [
          "conk", "honk"
        ],
        sentences: [
          "1) The cab can honk at the bus.",
          "2) The bus can honk at the van.",
          "3) The van can honk at the truck.",
          "4) The truck can honk at the cab."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Which word ends with the -onk pattern?", options: [{id:"a",text:"honk",is_correct:true},{id:"b",text:"hand",is_correct:false},{id:"c",text:"hook",is_correct:false},{id:"d",text:"huff",is_correct:false}] },
          { id: "2", prompt: "Which is NOT a Lesson 80 word?", options: [{id:"a",text:"conk",is_correct:false},{id:"b",text:"honk",is_correct:false},{id:"c",text:"sank",is_correct:true},{id:"d",text:"honk",is_correct:false}] },
          { id: "3", prompt: "What pattern ends 'honk'?", options: [{id:"a",text:"-ank",is_correct:false},{id:"b",text:"-onk",is_correct:true},{id:"c",text:"-ink",is_correct:false},{id:"d",text:"-unk",is_correct:false}] },
          { id: "4", prompt: "Which word means a sound a cab makes?", options: [{id:"a",text:"honk",is_correct:true},{id:"b",text:"conk",is_correct:false},{id:"c",text:"sink",is_correct:false},{id:"d",text:"bank",is_correct:false}] },
          { id: "5", prompt: "How many letters in 'conk'?", options: [{id:"a",text:"4",is_correct:true},{id:"b",text:"5",is_correct:false},{id:"c",text:"3",is_correct:false},{id:"d",text:"6",is_correct:false}] },
          { id: "6", prompt: "The cab can ___ at the bus.", options: [{id:"a",text:"honk",is_correct:true},{id:"b",text:"conk",is_correct:false},{id:"c",text:"bank",is_correct:false},{id:"d",text:"sink",is_correct:false}] },
          { id: "7", prompt: "Which vehicle can honk at the van?", options: [{id:"a",text:"The bus",is_correct:true},{id:"b",text:"The cab",is_correct:false},{id:"c",text:"The truck",is_correct:false},{id:"d",text:"The pond",is_correct:false}] },
          { id: "8", prompt: "The van can honk at the ___.", options: [{id:"a",text:"truck",is_correct:true},{id:"b",text:"bus",is_correct:false},{id:"c",text:"cab",is_correct:false},{id:"d",text:"van",is_correct:false}] },
          { id: "9", prompt: "The truck can honk at the ___.", options: [{id:"a",text:"cab",is_correct:true},{id:"b",text:"van",is_correct:false},{id:"c",text:"bus",is_correct:false},{id:"d",text:"truck",is_correct:false}] },
          { id: "10", prompt: "How many different vehicle types are in the sentences?", options: [{id:"a",text:"4",is_correct:true},{id:"b",text:"2",is_correct:false},{id:"c",text:"3",is_correct:false},{id:"d",text:"5",is_correct:false}] },
          { id: "11", prompt: "Which word starts with 'c' and ends with -onk?", options: [{id:"a",text:"conk",is_correct:true},{id:"b",text:"honk",is_correct:false},{id:"c",text:"bank",is_correct:false},{id:"d",text:"tank",is_correct:false}] },
          { id: "12", prompt: "Which word starts with 'h' and ends with -onk?", options: [{id:"a",text:"honk",is_correct:true},{id:"b",text:"conk",is_correct:false},{id:"c",text:"hank",is_correct:false},{id:"d",text:"hook",is_correct:false}] },
          { id: "13", prompt: "What is the vowel in 'honk'?", options: [{id:"a",text:"o",is_correct:true},{id:"b",text:"a",is_correct:false},{id:"c",text:"u",is_correct:false},{id:"d",text:"i",is_correct:false}] },
          { id: "14", prompt: "Which word is a Lesson 80 word?", options: [{id:"a",text:"conk",is_correct:true},{id:"b",text:"bunk",is_correct:false},{id:"c",text:"bank",is_correct:false},{id:"d",text:"sink",is_correct:false}] },
          { id: "15", prompt: "How many consonants are in 'honk'?", options: [{id:"a",text:"3",is_correct:true},{id:"b",text:"2",is_correct:false},{id:"c",text:"4",is_correct:false},{id:"d",text:"1",is_correct:false}] },
          { id: "16", prompt: "The ___ can honk at the truck.", options: [{id:"a",text:"van",is_correct:true},{id:"b",text:"cab",is_correct:false},{id:"c",text:"bus",is_correct:false},{id:"d",text:"cat",is_correct:false}] },
          { id: "17", prompt: "What type of syllable is 'conk'?", options: [{id:"a",text:"Closed",is_correct:true},{id:"b",text:"Open",is_correct:false},{id:"c",text:"Magic E",is_correct:false},{id:"d",text:"Vowel Team",is_correct:false}] },
          { id: "18", prompt: "The bus can honk at the ___.", options: [{id:"a",text:"van",is_correct:true},{id:"b",text:"cab",is_correct:false},{id:"c",text:"truck",is_correct:false},{id:"d",text:"bus",is_correct:false}] },
          { id: "19", prompt: "Which vehicle is mentioned first in sentence 4?", options: [{id:"a",text:"The truck",is_correct:true},{id:"b",text:"The cab",is_correct:false},{id:"c",text:"The bus",is_correct:false},{id:"d",text:"The van",is_correct:false}] },
          { id: "20", prompt: "What pattern is Lesson 80?", options: [{id:"a",text:"-onk",is_correct:true},{id:"b",text:"-ank",is_correct:false},{id:"c",text:"-ink",is_correct:false},{id:"d",text:"-unk",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 80*\nStudent: [Name]\nScore: ${score}\n\n`;
        const correctStr = correctList.length ? '‚úÖ CORRECT:\n' + correctList.join('\n\n') + '\n\n' : '';
        const incorrectStr = incorrectList.length ? '‚ùå INCORRECT:\n' + incorrectList.join('\n\n') : '';
        const message = encodeURIComponent(summary + correctStr + incorrectStr + `\nReport generated via Mini OpenStax. Share with instructor: https://wa.me/${CHAPTER_CONFIG.whatsappNumber}`);
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><strong>${correctCount >= 15 ? 'Excellent! You‚Äôve mastered the -onk pattern!' : correctCount >= 10 ? 'Good! Review missed items.' : 'Practice Lesson 80 words again.'}</strong></p>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
