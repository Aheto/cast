<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 251 ‚Äî Silent Letters: Miscellaneous IV"/>
  <title>Mini OpenStax ‚Äî Lesson 251: Miscellaneous Silent Letters IV</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 251: Miscellaneous Silent Letters IV</h1>
        <div class="lo-tags" id="lo-tags">LO PH251: Recognize words with silent t, u, and irregular spellings</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Words with <strong>silent or irregular letters</strong> (e.g., silent <em>t</em>, silent <em>u</em>, irregular <em>ea</em>):</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. These words must be recognized as sight words due to irregular spelling.</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      const currentChapter = 250;   // chapter-250.html = Lesson 251
      const maxChapter = 261;

      const CHAPTER_CONFIG = {
        title: "Lesson 251: Miscellaneous Silent Letters IV",
        loTags: ["LO PH251: Recognize words with silent t, u, and irregular spellings"],
        contentWords: [
          "aunt", "built", "build", "building", "biscuit", "circuit", "friend", "friendly", "carriage", "marriage",
          "heart", "hearth", "height", "bargain", "captain", "fountain", "mountain", "curtain", "certain"
        ],
        sentences: [
          "Sue is a warm and friendly person.",
          "Mark will climb to the top of the mountain.",
          "John got a drink of water from the fountain.",
          "At breakfast, Walter ate a biscuit with honey.",
          "Earl can build up his strength with daily exercise.",
          "On Thursday, Judy went to visit her aunt and cousin.",
          "The captain will guide the ship on its voyage across the sea.",
          "A vein is a tiny tube in your body that carries blood to your heart."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Which word has a silent 't'?", options: [{id:"a",text:"mountain",is_correct:true},{id:"b",text:"mouse",is_correct:false},{id:"c",text:"map",is_correct:false},{id:"d",text:"mat",is_correct:false}] },
          { id: "2", prompt: "Which is NOT a Lesson 251 word?", options: [{id:"a",text:"certain",is_correct:false},{id:"b",text:"fountain",is_correct:false},{id:"c",text:"vein",is_correct:true},{id:"d",text:"biscuit",is_correct:false}] },
          { id: "3", prompt: "In 'biscuit', is the 't' pronounced?", options: [{id:"a",text:"No, it is silent",is_correct:true},{id:"b",text:"Yes, clearly",is_correct:false},{id:"c",text:"Only in British English",is_correct:false},{id:"d",text:"It sounds like /d/",is_correct:false}] },
          { id: "4", prompt: "Which word means 'to construct or make something'?", options: [{id:"a",text:"build",is_correct:true},{id:"b",text:"bargain",is_correct:false},{id:"c",text:"carriage",is_correct:false},{id:"d",text:"circuit",is_correct:false}] },
          { id: "5", prompt: "How many letters in 'friendly'?", options: [{id:"a",text:"8",is_correct:true},{id:"b",text:"7",is_correct:false},{id:"c",text:"9",is_correct:false},{id:"d",text:"6",is_correct:false}] },
          { id: "6", prompt: "Which sentence uses only Lesson 251 words?", options: [{id:"a",text:"At breakfast, Walter ate a biscuit with honey.",is_correct:true},{id:"b",text:"She sat on a mat.",is_correct:false},{id:"c",text:"He ran fast.",is_correct:false},{id:"d",text:"They played ball.",is_correct:false}] },
          { id: "7", prompt: "Which word refers to a female relative, sister of one‚Äôs parent?", options: [{id:"a",text:"aunt",is_correct:true},{id:"b",text:"captain",is_correct:false},{id:"c",text:"curtain",is_correct:false},{id:"d",text:"height",is_correct:false}] },
          { id: "8", prompt: "What is silent in 'certain'?", options: [{id:"a",text:"The 't'",is_correct:true},{id:"b",text:"The 'c'",is_correct:false},{id:"c",text:"The 'r'",is_correct:false},{id:"d",text:"The 'n'",is_correct:false}] },
          { id: "9", prompt: "In 'The captain will guide the ship on its voyage,' how many Lesson 251 words?", options: [{id:"a",text:"1",is_correct:true},{id:"b",text:"2",is_correct:false},{id:"c",text:"0",is_correct:false},{id:"d",text:"3",is_correct:false}] },
          { id: "10", prompt: "Which word means 'a natural elevation of the earth‚Äôs surface'?", options: [{id:"a",text:"mountain",is_correct:true},{id:"b",text:"fountain",is_correct:false},{id:"c",text:"building",is_correct:false},{id:"d",text:"carriage",is_correct:false}] },
          { id: "11", prompt: "Which word describes someone kind and helpful?", options: [{id:"a",text:"friendly",is_correct:true},{id:"b",text:"certain",is_correct:false},{id:"c",text:"built",is_correct:false},{id:"d",text:"bargain",is_correct:false}] },
          { id: "12", prompt: "Which word ends with silent 't' and refers to a flaky bread product?", options: [{id:"a",text:"biscuit",is_correct:true},{id:"b",text:"mountain",is_correct:false},{id:"c",text:"certain",is_correct:false},{id:"d",text:"curtain",is_correct:false}] },
          { id: "13", prompt: "Which sentence is from Lesson 251?", options: [{id:"a",text:"Sue is a warm and friendly person.",is_correct:true},{id:"b",text:"She likes apples.",is_correct:false},{id:"c",text:"He jumped high.",is_correct:false},{id:"d",text:"They walked home.",is_correct:false}] },
          { id: "14", prompt: "How many consonants in 'captain'?", options: [{id:"a",text:"5",is_correct:true},{id:"b",text:"4",is_correct:false},{id:"c",text:"6",is_correct:false},{id:"d",text:"3",is_correct:false}] },
          { id: "15", prompt: "Which word might complete: 'She made a good ___ at the store.'?", options: [{id:"a",text:"bargain",is_correct:true},{id:"b",text:"heart",is_correct:false},{id:"c",text:"height",is_correct:false},{id:"d",text:"friend",is_correct:false}] },
          { id: "16", prompt: "What is silent in 'built'?", options: [{id:"a",text:"The 'u' is not pronounced as /yoo/; the 'ui' makes /…™/ or / ä/",is_correct:true},{id:"b",text:"The 'b'",is_correct:false},{id:"c",text:"The 't'",is_correct:false},{id:"d",text:"Nothing is silent",is_correct:false}] },
          { id: "17", prompt: "Which word refers to the organ that pumps blood?", options: [{id:"a",text:"heart",is_correct:true},{id:"b",text:"hearth",is_correct:false},{id:"c",text:"height",is_correct:false},{id:"d",text:"marriage",is_correct:false}] },
          { id: "18", prompt: "Which word might complete: 'Don‚Äôt forget to draw the ___.'?", options: [{id:"a",text:"curtain",is_correct:true},{id:"b",text:"mountain",is_correct:false},{id:"c",text:"fountain",is_correct:false},{id:"d",text:"captain",is_correct:false}] },
          { id: "19", prompt: "Which word appears in both the word list and sentences?", options: [{id:"a",text:"friendly",is_correct:true},{id:"b",text:"mountain",is_correct:true},{id:"c",text:"biscuit",is_correct:true},{id:"d",text:"All of the above",is_correct:true}] },
          { id: "20", prompt: "What phonics concept is taught in Lesson 251?", options: [{id:"a",text:"Words with silent t, u, and irregular spellings",is_correct:true},{id:"b",text:"Split vowel pairs",is_correct:false},{id:"c",text:"Magic E",is_correct:false},{id:"d",text:"R-controlled vowels",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        window.quizCorrectMap = {};

        const quizHTML = CHAPTER_CONFIG.assessmentItems.map(q => {
          let shuffledOptions = [...q.options];
          shuffle(shuffledOptions);

          const correctOpt = q.options.find(opt => opt.is_correct);
          window.quizCorrectMap[q.id] = correctOpt.id;

          const optionsHTML = shuffledOptions.map((opt, idx) => {
            const label = String.fromCharCode(97 + idx).toUpperCase();
            return `
              <div class="option">
                <label>
                  <input type="radio" name="q${q.id}" value="${opt.id}" required> ${label}. ${opt.text}
                </label>
              </div>
            `;
          }).join('');

          return `
            <div class="question">
              <strong>${q.id}. ${q.prompt}</strong>
              <div class="options">
                ${optionsHTML}
              </div>
            </div>
          `;
        }).join('');

        form.innerHTML = quizHTML;
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOptId = window.quizCorrectMap[item.id];
          const correctOpt = item.options.find(o => o.id === correctOptId);
          const isCorrect = userAns === correctOptId;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20}`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 251*\nStudent: [Name]\nScore: ${score}\n\n`;
        const correctStr = correctList.length ? '‚úÖ CORRECT:\n' + correctList.join('\n\n') + '\n\n' : '';
        const incorrectStr = incorrectList.length ? '‚ùå INCORRECT:\n' + incorrectList.join('\n\n') : '';
        const message = encodeURIComponent(summary + correctStr + incorrectStr + `\nReport generated via Mini OpenStax. Share with instructor: https://wa.me/${CHAPTER_CONFIG.whatsappNumber}`);
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><strong>${correctCount >= 15 ? 'Excellent! You‚Äôve mastered silent t and irregular spellings!' : correctCount >= 10 ? 'Good! Review silent letters in French-derived words.' : 'Practice Lesson 251 words again.'}</strong></p>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
