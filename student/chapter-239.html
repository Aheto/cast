<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 240 ‚Äî Sight Words"/>
  <title>Mini OpenStax ‚Äî Lesson 240: Sight Words</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 240: Sight Words</h1>
        <div class="lo-tags" id="lo-tags">LO PH240: Recognize high-frequency irregularly spelled sight words</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p><strong>Sight words</strong> with irregular spellings‚Äîmemorize by sight:</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. These words must be recognized instantly.</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      const currentChapter = 239;   // chapter-239.html = Lesson 240
      const maxChapter = 261;

      const CHAPTER_CONFIG = {
        title: "Lesson 240: Sight Words",
        loTags: ["LO PH240: Recognize high-frequency irregularly spelled sight words"],
        contentWords: [
          "blood", "flood", "rough", "tough", "enough", "laugh", "laughter", "cough", "trough", "eye", "buy", "broad", "sew", "shoe", "view", "ghost", "comb", "climb",
          "young", "tongue", "among", "father", "woman", "women", "busy", "minute", "people", "toward"
        ],
        sentences: [
          "The young child will laugh at a funny joke.",
          "The ship was tossed about on the rough sea.",
          "In a trial, twelve people serve on the jury.",
          "A person with a cold may cough and sneeze a lot.",
          "An animal will starve if it doesn't get enough food.",
          "Walter can touch the tip of his nose with his tongue.",
          "A heavy rain may cause the river to rise and flood the land.",
          "The woman went up the sidewalk toward the house on the corner.",
          "The tailor can sew a pocket onto the shirt with a needle and thread.",
          "Every morning, Joe will wash his face, brush his teeth, and comb his hair."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Which word is spelled with 'ough' but sounds like /uff/?", options: [{id:"a",text:"rough",is_correct:true},{id:"b",text:"though",is_correct:false},{id:"c",text:"through",is_correct:false},{id:"d",text:"thought",is_correct:false}] },
          { id: "2", prompt: "Which is NOT a Lesson 240 word?", options: [{id:"a",text:"ghost",is_correct:false},{id:"b",text:"minute",is_correct:false},{id:"c",text:"mouse",is_correct:true},{id:"d",text:"toward",is_correct:false}] },
          { id: "3", prompt: "In 'laugh', what sound does 'au' make?", options: [{id:"a",text:"/ƒÉf/",is_correct:true},{id:"b",text:"/aw/",is_correct:false},{id:"c",text:"/ah/",is_correct:false},{id:"d",text:"/ƒÉ/",is_correct:false}] },
          { id: "4", prompt: "Which word means 'to stitch fabric together'?", options: [{id:"a",text:"sew",is_correct:true},{id:"b",text:"sow",is_correct:false},{id:"c",text:"show",is_correct:false},{id:"d",text:"saw",is_correct:false}] },
          { id: "5", prompt: "How many letters in 'laughter'?", options: [{id:"a",text:"8",is_correct:true},{id:"b",text:"7",is_correct:false},{id:"c",text:"9",is_correct:false},{id:"d",text:"6",is_correct:false}] },
          { id: "6", prompt: "Which sentence uses only Lesson 240 words?", options: [{id:"a",text:"The young child will laugh at a funny joke.",is_correct:true},{id:"b",text:"She sat on a mat.",is_correct:false},{id:"c",text:"He ran fast.",is_correct:false},{id:"d",text:"They played ball.",is_correct:false}] },
          { id: "7", prompt: "Which word has a silent 'b'?", options: [{id:"a",text:"comb",is_correct:true},{id:"b",text:"climb",is_correct:true},{id:"c",text:"both A and B",is_correct:true},{id:"d",text:"none",is_correct:false}] },
          { id: "8", prompt: "What category do these words belong to?", options: [{id:"a",text:"Sight Words (irregular spelling)",is_correct:true},{id:"b",text:"Phonics decodable words",is_correct:false},{id:"c",text:"R-controlled vowels",is_correct:false},{id:"d",text:"Magic E words",is_correct:false}] },
          { id: "9", prompt: "In 'The woman went up the sidewalk toward the house,' how many Lesson 240 words?", options: [{id:"a",text:"3",is_correct:true},{id:"b",text:"2",is_correct:false},{id:"c",text:"1",is_correct:false},{id:"d",text:"4",is_correct:false}] },
          { id: "10", prompt: "Which word means 'adult female human'?", options: [{id:"a",text:"woman",is_correct:true},{id:"b",text:"women",is_correct:false},{id:"c",text:"people",is_correct:false},{id:"d",text:"father",is_correct:false}] },
          { id: "11", prompt: "Which word describes the organ used for tasting?", options: [{id:"a",text:"tongue",is_correct:true},{id:"b",text:"eye",is_correct:false},{id:"c",text:"ghost",is_correct:false},{id:"d",text:"minute",is_correct:false}] },
          { id: "12", prompt: "Which word ends with 'ough' and means 'to expel air from the lungs suddenly'?", options: [{id:"a",text:"cough",is_correct:true},{id:"b",text:"rough",is_correct:false},{id:"c",text:"tough",is_correct:false},{id:"d",text:"enough",is_correct:false}] },
          { id: "13", prompt: "Which sentence is from Lesson 240?", options: [{id:"a",text:"A heavy rain may cause the river to rise and flood the land.",is_correct:true},{id:"b",text:"She likes apples.",is_correct:false},{id:"c",text:"He jumped high.",is_correct:false},{id:"d",text:"They walked home.",is_correct:false}] },
          { id: "14", prompt: "How many consonants in 'people'?", options: [{id:"a",text:"4",is_correct:true},{id:"b",text:"3",is_correct:false},{id:"c",text:"5",is_correct:false},{id:"d",text:"2",is_correct:false}] },
          { id: "15", prompt: "Which word means 'sufficient'?", options: [{id:"a",text:"enough",is_correct:true},{id:"b",text:"minute",is_correct:false},{id:"c",text:"broad",is_correct:false},{id:"d",text:"view",is_correct:false}] },
          { id: "16", prompt: "What is special about 'women'?", options: [{id:"a",text:"It‚Äôs pronounced /wim-in/",is_correct:true},{id:"b",text:"It rhymes with 'men'",is_correct:false},{id:"c",text:"It has a long o sound",is_correct:false},{id:"d",text:"It‚Äôs decodable with Magic E",is_correct:false}] },
          { id: "17", prompt: "Which word refers to a male parent?", options: [{id:"a",text:"father",is_correct:true},{id:"b",text:"people",is_correct:false},{id:"c",text:"ghost",is_correct:false},{id:"d",text:"young",is_correct:false}] },
          { id: "18", prompt: "Which word might complete: 'Don‚Äôt forget to ___ your hair.'?", options: [{id:"a",text:"comb",is_correct:true},{id:"b",text:"climb",is_correct:false},{id:"c",text:"buy",is_correct:false},{id:"d",text:"sew",is_correct:false}] },
          { id: "19", prompt: "Which word appears in both the word list and sentences?", options: [{id:"a",text:"laugh",is_correct:true},{id:"b",text:"young",is_correct:true},{id:"c",text:"comb",is_correct:true},{id:"d",text:"All of the above",is_correct:true}] },
          { id: "20", prompt: "Why are these words taught as sight words?", options: [{id:"a",text:"Their spelling doesn't follow standard phonics rules",is_correct:true},{id:"b",text:"They are all short words",is_correct:false},{id:"c",text:"They are nouns only",is_correct:false},{id:"d",text:"They follow the Magic E pattern",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        window.quizCorrectMap = {};

        const quizHTML = CHAPTER_CONFIG.assessmentItems.map(q => {
          let shuffledOptions = [...q.options];
          shuffle(shuffledOptions);

          const correctOpt = q.options.find(opt => opt.is_correct);
          window.quizCorrectMap[q.id] = correctOpt.id;

          const optionsHTML = shuffledOptions.map((opt, idx) => {
            const label = String.fromCharCode(97 + idx).toUpperCase();
            return `
              <div class="option">
                <label>
                  <input type="radio" name="q${q.id}" value="${opt.id}" required> ${label}. ${opt.text}
                </label>
              </div>
            `;
          }).join('');

          return `
            <div class="question">
              <strong>${q.id}. ${q.prompt}</strong>
              <div class="options">
                ${optionsHTML}
              </div>
            </div>
          `;
        }).join('');

        form.innerHTML = quizHTML;
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOptId = window.quizCorrectMap[item.id];
          const correctOpt = item.options.find(o => o.id === correctOptId);
          const isCorrect = userAns === correctOptId;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20}`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 240*\nStudent: [Name]\nScore: ${score}\n\n`;
        const correctStr = correctList.length ? '‚úÖ CORRECT:\n' + correctList.join('\n\n') + '\n\n' : '';
        const incorrectStr = incorrectList.length ? '‚ùå INCORRECT:\n' + incorrectList.join('\n\n') : '';
        const message = encodeURIComponent(summary + correctStr + incorrectStr + `\nReport generated via Mini OpenStax. Share with instructor: https://wa.me/${CHAPTER_CONFIG.whatsappNumber}`);
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><strong>${correctCount >= 15 ? 'Excellent! You‚Äôve mastered these sight words!' : correctCount >= 10 ? 'Good! Review irregular spellings.' : 'Practice Lesson 240 words again.'}</strong></p>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
