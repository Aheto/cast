<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 138 ‚Äî Multisyllable Words with Consonant + le Ending"/>
  <title>Mini OpenStax ‚Äî Lesson 138: Multisyllable Words (Ending le)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 138: Multisyllable Words (Consonant + le)</h1>
        <div class="lo-tags" id="lo-tags">LO PH138: Decode multisyllable words ending with the 'consonant + le' syllable pattern.</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>In these words, the ending is formed by a consonant followed by <strong>le</strong>, creating a final syllable:</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read these sentences aloud, focusing on the <strong>-le</strong> endings:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Test your understanding of Lesson 138 vocabulary and sentences.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 137; // chapter-137.html = Lesson 138
      const maxChapter = 150;

      const CHAPTER_CONFIG = {
        title: "Lesson 138: Multisyllable Words (Consonant + le)",
        loTags: ["LO PH138: Decode multisyllable words ending with the 'consonant + le' syllable pattern."],
        contentWords: [
          "candle", "handle", "needle", "noodle", "fumble", "mumble", "rumble", "tumble", "crumble", "grumble", "stumble", "scramble", "tremble", "terrible", "possible", "simple", "sample", "eagle"
        ],
        sentences: [
          "1) Please do not mumble when you speak.",
          "2) A lit candle can drip hot melted wax.",
          "3) Scott grabbed the handle of the hammer.",
          "4) Beth said, 'This math problem is simple!'",
          "5) Glen should not try to scramble up the steep cliff.",
          "6) Kay will need a needle to stitch up the rip in her dress.",
          "7) The teacher may grumble when the children whisper in class.",
          "8) They could hear the rumble of a train on the railroad tracks."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "What should you not do when you speak?", options: [{id:"a",text:"mumble",is_correct:true},{id:"b",text:"rumble",is_correct:false},{id:"c",text:"scramble",is_correct:false},{id:"d",text:"tremble",is_correct:false}] },
          { id: "2", prompt: "What can a lit candle drip?", options: [{id:"a",text:"cold water",is_correct:false},{id:"b",text:"hot melted wax",is_correct:true},{id:"c",text:"noodles",is_correct:false},{id:"d",text:"simple paint",is_correct:false}] },
          { id: "3", prompt: "What part of the hammer did Scott grab?", options: [{id:"a",text:"the needle",is_correct:false},{id:"b",text:"the handle",is_correct:true},{id:"c",text:"the candle",is_correct:false},{id:"d",text:"the eagle",is_correct:false}] },
          { id: "4", prompt: "How did Beth describe the math problem?", options: [{id:"a",text:"terrible",is_correct:false},{id:"b",text:"simple",is_correct:true},{id:"c",text:"possible",is_correct:false},{id:"d",text:"crumble",is_correct:false}] },
          { id: "5", prompt: "What should Glen not try to do up the steep cliff?", options: [{id:"a",text:"tumble",is_correct:false},{id:"b",text:"scramble",is_correct:true},{id:"c",text:"grumble",is_correct:false},{id:"d",text:"mumble",is_correct:false}] },
          { id: "6", prompt: "What does Kay need to stitch her dress?", options: [{id:"a",text:"a noodle",is_correct:false},{id:"b",text:"a needle",is_correct:true},{id:"c",text:"a candle",is_correct:false},{id:"d",text:"a handle",is_correct:false}] },
          { id: "7", prompt: "When might the teacher grumble?", options: [{id:"a",text:"when kids whisper",is_correct:true},{id:"b",text:"when kids tremble",is_correct:false},{id:"c",text:"when kids scramble",is_correct:false},{id:"d",text:"when kids fumble",is_correct:false}] },
          { id: "8", prompt: "What did they hear on the railroad tracks?", options: [{id:"a",text:"a sample",is_correct:false},{id:"b",text:"a rumble",is_correct:true},{id:"c",text:"a needle",is_correct:false},{id:"d",text:"a candle",is_correct:false}] },
          { id: "9", prompt: "Which word means a large bird of prey?", options: [{id:"a",text:"eagle",is_correct:true},{id:"b",text:"noodle",is_correct:false},{id:"c",text:"handle",is_correct:false},{id:"d",text:"candle",is_correct:false}] },
          { id: "10", prompt: "Which word means to shake, usually from fear or cold?", options: [{id:"a",text:"rumble",is_correct:false},{id:"b",text:"tremble",is_correct:true},{id:"c",text:"stumble",is_correct:false},{id:"d",text:"mumble",is_correct:false}] },
          { id: "11", prompt: "Which word means to trip or lose balance?", options: [{id:"a",text:"stumble",is_correct:true},{id:"b",text:"sample",is_correct:false},{id:"c",text:"simple",is_correct:false},{id:"d",text:"handle",is_correct:false}] },
          { id: "12", prompt: "Which word is a type of long, thin pasta?", options: [{id:"a",text:"needle",is_correct:false},{id:"b",text:"noodle",is_correct:true},{id:"c",text:"candle",is_correct:false},{id:"d",text:"eagle",is_correct:false}] },
          { id: "13", prompt: "Which word means 'very bad'?", options: [{id:"a",text:"possible",is_correct:false},{id:"b",text:"terrible",is_correct:true},{id:"c",text:"simple",is_correct:false},{id:"d",text:"rumble",is_correct:false}] },
          { id: "14", prompt: "Which word means it 'can be done'?", options: [{id:"a",text:"possible",is_correct:true},{id:"b",text:"terrible",is_correct:false},{id:"c",text:"simple",is_correct:false},{id:"d",text:"mumble",is_correct:false}] },
          { id: "15", prompt: "To drop or mishandle something is to...", options: [{id:"a",text:"tumble",is_correct:false},{id:"b",text:"fumble",is_correct:true},{id:"c",text:"grumble",is_correct:false},{id:"d",text:"scramble",is_correct:false}] },
          { id: "16", prompt: "Which word means to break into small pieces?", options: [{id:"a",text:"crumble",is_correct:true},{id:"b",text:"tremble",is_correct:false},{id:"c",text:"mumble",is_correct:false},{id:"d",text:"rumble",is_correct:false}] },
          { id: "17", prompt: "Where did the rumble come from?", options: [{id:"a",text:"a dress",is_correct:false},{id:"b",text:"the railroad tracks",is_correct:true},{id:"c",text:"a steep cliff",is_correct:false},{id:"d",text:"a hammer",is_correct:false}] },
          { id: "18", prompt: "How many syllables are in 'possible'?", options: [{id:"a",text:"two",is_correct:false},{id:"b",text:"three",is_correct:true},{id:"c",text:"four",is_correct:false},{id:"d",text:"one",is_correct:false}] },
          { id: "19", prompt: "What did Scott grab?", options: [{id:"a",text:"a candle",is_correct:false},{id:"b",text:"the handle of a hammer",is_correct:true},{id:"c",text:"a needle",is_correct:false},{id:"d",text:"a noodle",is_correct:false}] },
          { id: "20", prompt: "What word rhymes with 'grumble'?", options: [{id:"a",text:"simple",is_correct:false},{id:"b",text:"rumble",is_correct:true},{id:"c",text:"candle",is_correct:false},{id:"d",text:"needle",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 138*\nStudent: [Name]\nScore: ${score}\n\n`;
        const message = encodeURIComponent(summary + correctList.join('\n\n') + '\n\n' + incorrectList.join('\n\n'));
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      init();
    })();
  </script>
</body>
</html>
