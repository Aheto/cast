<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 155 ‚Äî Soft G Pattern (g before i, y)"/>
  <title>Mini OpenStax ‚Äî Lesson 155: Soft G (i, y)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 155: Soft G (i, y)</h1>
        <div class="lo-tags" id="lo-tags">LO PH155: Decode words where g = /j/ followed by i or y</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Words where <strong>g</strong> makes the <em>/j/</em> sound (Soft G):</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. All words are decodable through Lesson 155:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 154;    // chapter-154.html = Lesson 155
      const maxChapter = 262;        

      const CHAPTER_CONFIG = {
        title: "Lesson 155: Soft G (i, y)",
        loTags: ["LO PH155: Decode words where g = /j/ followed by i or y"],
        contentWords: [
          "gin", "gist", "magic", "logic", "rigid", "imagine", "digit", "ginger", "engine", "strategy", "engineer", "apology"
        ],
        sentences: [
          "I accept your apology.",
          "Neal needs to fix the engine in his truck.",
          "The clown did some magic tricks for the children.",
          "Betty has a clever strategy to solve the problem.",
          "Cliff got the gist of what the teacher was saying.",
          "A civil engineer helped to plan the bridge across the river.",
          "There didn't seem to be any logic to the plot of the novel.",
          "Kay couldn't imagine how the novel would end."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "When does 'g' usually make the /j/ sound?", options: [{id:"a",text:"Before a, o, or u",is_correct:false},{id:"b",text:"At the start of every word",is_correct:false},{id:"c",text:"When followed by i or y",is_correct:true},{id:"d",text:"When followed by a consonant",is_correct:false}] },
          { id: "2", prompt: "Which word features a soft G sound?", options: [{id:"a",text:"goat",is_correct:false},{id:"b",text:"ginger",is_correct:true},{id:"c",text:"game",is_correct:false},{id:"d",text:"gum",is_correct:false}] },
          { id: "3", prompt: "What does Neal need to fix in his truck?", options: [{id:"a",text:"the engine",is_correct:true},{id:"b",text:"the logic",is_correct:false},{id:"c",text:"the digit",is_correct:false},{id:"d",text:"the magic",is_correct:false}] },
          { id: "4", prompt: "Which word means a plan of action?", options: [{id:"a",text:"apology",is_correct:false},{id:"b",text:"strategy",is_correct:true},{id:"c",text:"imagine",is_correct:false},{id:"d",text:"rigid",is_correct:false}] },
          { id: "5", prompt: "Who helped plan the bridge across the river?", options: [{id:"a",text:"a civil engineer",is_correct:true},{id:"b",text:"a clown",is_correct:false},{id:"c",text:"a teacher",is_correct:false},{id:"d",text:"a novelist",is_correct:false}] },
          { id: "6", prompt: "What sound does the 'g' make in 'magic'?", options: [{id:"a",text:"/g/ as in gate",is_correct:false},{id:"b",text:"/j/ as in jet",is_correct:true},{id:"c",text:"/s/ as in sun",is_correct:false},{id:"d",text:"It is silent",is_correct:false}] },
          { id: "7", prompt: "Which word means the main point or essence of something?", options: [{id:"a",text:"digit",is_correct:false},{id:"b",text:"gist",is_correct:true},{id:"c",text:"rigid",is_correct:false},{id:"d",text:"logic",is_correct:false}] },
          { id: "8", prompt: "Complete the sentence: 'Kay couldn't ___ how the novel would end.'", options: [{id:"a",text:"imagine",is_correct:true},{id:"b",text:"engine",is_correct:false},{id:"c",text:"engineer",is_correct:false},{id:"d",text:"apology",is_correct:false}] },
          { id: "9", prompt: "Which word refers to a single number from 0-9?", options: [{id:"a",text:"digit",is_correct:true},{id:"b",text:"logic",is_correct:false},{id:"c",text:"magic",is_correct:false},{id:"d",text:"gist",is_correct:false}] },
          { id: "10", prompt: "Which word means stiff or unbending?", options: [{id:"a",text:"rigid",is_correct:true},{id:"b",text:"ginger",is_correct:false},{id:"c",text:"imagine",is_correct:false},{id:"d",text:"engine",is_correct:false}] },
          { id: "11", prompt: "What did the clown do for the children?", options: [{id:"a",text:"magic tricks",is_correct:true},{id:"b",text:"logic puzzles",is_correct:false},{id:"c",text:"civil engineering",is_correct:false},{id:"d",text:"apologies",is_correct:false}] },
          { id: "12", prompt: "Which word ends with the soft G sound spelled with 'y'?", options: [{id:"a",text:"apology",is_correct:true},{id:"b",text:"logic",is_correct:false},{id:"c",text:"digit",is_correct:false},{id:"d",text:"gin",is_correct:false}] },
          { id: "13", prompt: "What word is missing: 'I accept your ___.'", options: [{id:"a",text:"strategy",is_correct:false},{id:"b",text:"apology",is_correct:true},{id:"c",text:"engine",is_correct:false},{id:"d",text:"gist",is_correct:false}] },
          { id: "14", prompt: "In 'ginger', how many soft G sounds are there?", options: [{id:"a",text:"0",is_correct:false},{id:"b",text:"1",is_correct:false},{id:"c",text:"2",is_correct:true},{id:"d",text:"3",is_correct:false}] },
          { id: "15", prompt: "Which word refers to a system of reasoning?", options: [{id:"a",text:"logic",is_correct:true},{id:"b",text:"magic",is_correct:false},{id:"c",text:"rigid",is_correct:false},{id:"d",text:"gin",is_correct:false}] },
          { id: "16", prompt: "Identify the soft G word: 'The engine is loud.'", options: [{id:"a",text:"loud",is_correct:false},{id:"b",text:"is",is_correct:false},{id:"c",text:"engine",is_correct:true},{id:"d",text:"the",is_correct:false}] },
          { id: "17", prompt: "What does Betty have to solve the problem?", options: [{id:"a",text:"a clever strategy",is_correct:true},{id:"b",text:"a magic wand",is_correct:false},{id:"c",text:"an engine",is_correct:false},{id:"d",text:"an apology",is_correct:false}] },
          { id: "18", prompt: "Which of these is NOT a soft G word from Lesson 155?", options: [{id:"a",text:"imagine",is_correct:false},{id:"b",text:"rigid",is_correct:false},{id:"c",text:"garden",is_correct:true},{id:"d",text:"digit",is_correct:false}] },
          { id: "19", prompt: "How many letters are in 'strategy'?", options: [{id:"a",text:"7",is_correct:false},{id:"b",text:"8",is_correct:true},{id:"c",text:"9",is_correct:false},{id:"d",text:"6",is_correct:false}] },
          { id: "20", prompt: "What type of engineer planned the bridge?", options: [{id:"a",text:"mechanical",is_correct:false},{id:"b",text:"civil",is_correct:true},{id:"c",text:"electrical",is_correct:false},{id:"d",text:"software",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 155*\nStudent: [Name]\nScore: ${score}\n\n`;
        const correctStr = correctList.length ? '‚úÖ CORRECT:\n' + correctList.join('\n\n') + '\n\n' : '';
        const incorrectStr = incorrectList.length ? '‚ùå INCORRECT:\n' + incorrectList.join('\n\n') : '';
        const message = encodeURIComponent(summary + correctStr + incorrectStr + `\nReport generated via Mini OpenStax. Share with instructor: https://wa.me/${CHAPTER_CONFIG.whatsappNumber}`);
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><strong>${correctCount >= 15 ? 'Excellent! You‚Äôve mastered the soft G pattern!' : correctCount >= 10 ? 'Good! Review missed items.' : 'Practice Lesson 155 words again.'}</strong></p>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
