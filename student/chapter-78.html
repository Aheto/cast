<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 79 ‚Äî ng/nk Patterns (-unk)"/>
  <title>Mini OpenStax ‚Äî Lesson 79: -unk Pattern</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 79: -unk Pattern</h1>
        <div class="lo-tags" id="lo-tags">LO PH79: Decode words with the -unk pattern (ng/nk family)</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Words ending in the <strong>-unk</strong> pattern (part of the <em>ng/nk</em> family):</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. All words are decodable from Lessons 2‚Äì79:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 78;    // chapter-78.html = Lesson 79
      const maxChapter = 150;        

      const CHAPTER_CONFIG = {
        title: "Lesson 79: -unk Pattern",
        loTags: ["LO PH79: Decode words with the -unk pattern (ng/nk family)"],
        contentWords: [
          "sunk", "junk", "bunk", "hunk", "dunk", "flunk", "plunk", "slunk", "skunk", "stunk", "chunk", "drunk", "trunk", "shrunk"
        ],
        sentences: [
          "1) Max cut a chunk from a ham.",
          "2) Max had a hunk of ham at lunch.",
          "3) Frank slept on a bunk bed at camp.",
          "4) Frank can dunk Hank in the pond.",
          "5) Kim kept her junk in a big trunk.",
          "6) Beth did not flunk the big math test.",
          "7) The dog ran from the skunk. The skunk stunk!",
          "8) Brad had let the cap get wet, and it had shrunk."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Which word ends with the -unk pattern?", options: [{id:"a",text:"sunk",is_correct:true},{id:"b",text:"sand",is_correct:false},{id:"c",text:"sink",is_correct:false},{id:"d",text:"sang",is_correct:false}] },
          { id: "2", prompt: "Which is NOT a Lesson 79 word?", options: [{id:"a",text:"junk",is_correct:false},{id:"b",text:"bank",is_correct:true},{id:"c",text:"bunk",is_correct:false},{id:"d",text:"hunk",is_correct:false}] },
          { id: "3", prompt: "What pattern ends the word 'trunk'?", options: [{id:"a",text:"-ank",is_correct:false},{id:"b",text:"-onk",is_correct:false},{id:"c",text:"-ink",is_correct:false},{id:"d",text:"-unk",is_correct:true}] },
          { id: "4", prompt: "Which word means to fail a test?", options: [{id:"a",text:"flunk",is_correct:true},{id:"b",text:"plunk",is_correct:false},{id:"c",text:"slunk",is_correct:false},{id:"d",text:"chunk",is_correct:false}] },
          { id: "5", prompt: "What did Max cut from a ham?", options: [{id:"a",text:"A hunk",is_correct:false},{id:"b",text:"A chunk",is_correct:true},{id:"c",text:"A trunk",is_correct:false},{id:"d",text:"A junk",is_correct:false}] },
          { id: "6", prompt: "Where did Frank sleep at camp?", options: [{id:"a",text:"On a bunk bed",is_correct:true},{id:"b",text:"In a trunk",is_correct:false},{id:"c",text:"On a deck",is_correct:false},{id:"d",text:"In a tank",is_correct:false}] },
          { id: "7", prompt: "The skunk ___!", options: [{id:"a",text:"sank",is_correct:false},{id:"b",text:"stunk",is_correct:true},{id:"c",text:"slunk",is_correct:false},{id:"d",text:"shrunk",is_correct:false}] },
          { id: "8", prompt: "What did Kim keep in a big trunk?", options: [{id:"a",text:"Her junk",is_correct:true},{id:"b",text:"Her ham",is_correct:false},{id:"c",text:"Her milk",is_correct:false},{id:"d",text:"Her skunk",is_correct:false}] },
          { id: "9", prompt: "What happened to Brad's cap when it got wet?", options: [{id:"a",text:"It stunk",is_correct:false},{id:"b",text:"It shrunk",is_correct:true},{id:"c",text:"It sunk",is_correct:false},{id:"d",text:"It flunked",is_correct:false}] },
          { id: "10", prompt: "Frank can ___ Hank in the pond.", options: [{id:"a",text:"dunk",is_correct:true},{id:"b",text:"hunk",is_correct:false},{id:"c",text:"junk",is_correct:false},{id:"d",text:"bunk",is_correct:false}] },
          { id: "11", prompt: "Which word rhymes with 'sunk'?", options: [{id:"a",text:"hunk",is_correct:true},{id:"b",text:"sang",is_correct:false},{id:"c",text:"sink",is_correct:false},{id:"d",text:"sock",is_correct:false}] },
          { id: "12", prompt: "Which word starts with a triple blend and ends with -unk?", options: [{id:"a",text:"shrunk",is_correct:true},{id:"b",text:"junk",is_correct:false},{id:"c",text:"bunk",is_correct:false},{id:"d",text:"sunk",is_correct:false}] },
          { id: "13", prompt: "Max had a hunk of ham at ___.", options: [{id:"a",text:"camp",is_correct:false},{id:"b",text:"lunch",is_correct:true},{id:"c",text:"the pond",is_correct:false},{id:"d",text:"the bank",is_correct:false}] },
          { id: "14", prompt: "Which word describes a large piece of something?", options: [{id:"a",text:"hunk",is_correct:true},{id:"b",text:"flunk",is_correct:false},{id:"c",text:"plunk",is_correct:false},{id:"d",text:"slunk",is_correct:false}] },
          { id: "15", prompt: "What syllable type is the word 'junk'?", options: [{id:"a",text:"Closed",is_correct:true},{id:"b",text:"Open",is_correct:false},{id:"c",text:"Magic E",is_correct:false},{id:"d",text:"Vowel Team",is_correct:false}] },
          { id: "16", prompt: "Which word is an animal known for its smell?", options: [{id:"a",text:"skunk",is_correct:true},{id:"b",text:"trunk",is_correct:false},{id:"c",text:"chunk",is_correct:false},{id:"d",text:"plunk",is_correct:false}] },
          { id: "17", prompt: "Beth did not ___ the big math test.", options: [{id:"a",text:"flunk",is_correct:true},{id:"b",text:"junk",is_correct:false},{id:"c",text:"bunk",is_correct:false},{id:"d",text:"hunk",is_correct:false}] },
          { id: "18", prompt: "How many letters are in 'skunk'?", options: [{id:"a",text:"4",is_correct:false},{id:"b",text:"5",is_correct:true},{id:"c",text:"6",is_correct:false},{id:"d",text:"3",is_correct:false}] },
          { id: "19", prompt: "Who ran from the skunk?", options: [{id:"a",text:"The dog",is_correct:true},{id:"b",text:"Max",is_correct:false},{id:"c",text:"Frank",is_correct:false},{id:"d",text:"Beth",is_correct:false}] },
          { id: "20", prompt: "Which word starts with 'dr' and ends with -unk?", options: [{id:"a",text:"drunk",is_correct:true},{id:"b",text:"dunk",is_correct:false},{id:"c",text:"trunk",is_correct:false},{id:"d",text:"shrunk",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 79*\nStudent: [Name]\nScore: ${score}\n\n`;
        const message = encodeURIComponent(summary + correctList.join('\n\n') + '\n\n' + incorrectList.join('\n\n'));
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      init();
    })();
  </script>
</body>
</html>
