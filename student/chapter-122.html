<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 123 ‚Äî Contractions with Apostrophes"/>
  <title>Mini OpenStax ‚Äî Lesson 123: Apostrophe Contractions</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 123: Apostrophe Contractions</h1>
        <div class="lo-tags" id="lo-tags">LO PH123: Recognize and decode common contractions using the apostrophe.</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Common contractions. Notice how the apostrophe (<strong>'</strong>) replaces one or more missing letters:</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read these sentences aloud. Practice reading the contractions as single, shortened words:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question based on Lesson 123.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 122;    // chapter-122.html = Lesson 123
      const maxChapter = 150;        

      const CHAPTER_CONFIG = {
        title: "Lesson 123: Apostrophe Contractions",
        loTags: ["LO PH123: Recognize and decode common contractions using the apostrophe."],
        contentWords: [
          "it's", "he's", "she's", "let's", "that's", "who's", "what's", "I'd", "you'd", "he'd", "she'd", "we'd", "I'm", "I'll", "he'll", "she'll", "we'll", "you'll", "they'll", "I've", "we've", "you've", "we're", "you're", "they're"
        ],
        sentences: [
          "1) Who's next on the list?",
          "2) What's the best way to do the job?",
          "3) That's my brown coat hanging on the rack.",
          "4) When it comes to playing chess, he's the best.",
          "5) They'll try to do their best on the math test.",
          "6) To get a pay raise, you've got to do your job well.",
          "7) She's helping him with his reading and spelling.",
          "8) I'd be glad to help you if I could.",
          "9) It's been a long hot day and we're going to go swimming.",
          "10) Let's not sit in the sun too long at the swimming pool."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Who is next on the list?", options: [{id:"a",text:"Who's",is_correct:true},{id:"b",text:"Whos",is_correct:false},{id:"c",text:"Whose",is_correct:false},{id:"d",text:"Who is",is_correct:false}] },
          { id: "2", prompt: "What does 'he's' stand for in 'he's the best'?", options: [{id:"a",text:"he was",is_correct:false},{id:"b",text:"he has",is_correct:false},{id:"c",text:"he is",is_correct:true},{id:"d",text:"he will",is_correct:false}] },
          { id: "3", prompt: "Where is the brown coat hanging?", options: [{id:"a",text:"on a hook",is_correct:false},{id:"b",text:"on the rack",is_correct:true},{id:"c",text:"on the bed",is_correct:false},{id:"d",text:"in the car",is_correct:false}] },
          { id: "4", prompt: "Who is helping with reading and spelling?", options: [{id:"a",text:"He's",is_correct:false},{id:"b",text:"She's",is_correct:true},{id:"c",text:"They're",is_correct:false},{id:"d",text:"We're",is_correct:false}] },
          { id: "5", prompt: "What will 'they'll' do on the math test?", options: [{id:"a",text:"fail it",is_correct:false},{id:"b",text:"try their best",is_correct:true},{id:"c",text:"skip it",is_correct:false},{id:"d",text:"study",is_correct:false}] },
          { id: "6", prompt: "What do you need to do to get a pay raise?", options: [{id:"a",text:"you've got to do your job well",is_correct:true},{id:"b",text:"ask the boss",is_correct:false},{id:"c",text:"work late",is_correct:false},{id:"d",text:"be she'd",is_correct:false}] },
          { id: "7", prompt: "Complete the sentence: '___ be glad to help you.'", options: [{id:"a",text:"I'll",is_correct:false},{id:"b",text:"I'd",is_correct:true},{id:"c",text:"I'm",is_correct:false},{id:"d",text:"I've",is_correct:false}] },
          { id: "8", prompt: "What are they going to do after a long hot day?", options: [{id:"a",text:"sleep",is_correct:false},{id:"b",text:"go swimming",is_correct:true},{id:"c",text:"drink milk",is_correct:false},{id:"d",text:"go shopping",is_correct:false}] },
          { id: "9", prompt: "Where should they not sit for too long?", options: [{id:"a",text:"in the car",is_correct:false},{id:"b",text:"in the sun",is_correct:true},{id:"c",text:"at the desk",is_correct:false},{id:"d",text:"on the rack",is_correct:false}] },
          { id: "10", prompt: "What contraction is used for 'Let us'?", options: [{id:"a",text:"Lets",is_correct:false},{id:"b",text:"Let's",is_correct:true},{id:"c",text:"Let'll",is_correct:false},{id:"d",text:"Let've",is_correct:false}] },
          { id: "11", prompt: "Which contraction stands for 'I am'?", options: [{id:"a",text:"I'll",is_correct:false},{id:"b",text:"I'm",is_correct:true},{id:"c",text:"I've",is_correct:false},{id:"d",text:"I'd",is_correct:false}] },
          { id: "12", prompt: "Which contraction stands for 'They will'?", options: [{id:"a",text:"They're",is_correct:false},{id:"b",text:"They'll",is_correct:true},{id:"c",text:"They've",is_correct:false},{id:"d",text:"They'd",is_correct:false}] },
          { id: "13", prompt: "Which contraction stands for 'We are'?", options: [{id:"a",text:"We've",is_correct:false},{id:"b",text:"We're",is_correct:true},{id:"c",text:"We'll",is_correct:false},{id:"d",text:"We'd",is_correct:false}] },
          { id: "14", prompt: "What does the apostrophe replace in 'it's' (it is)?", options: [{id:"a",text:"the letter i",is_correct:true},{id:"b",text:"the letter t",is_correct:false},{id:"c",text:"the letter s",is_correct:false},{id:"d",text:"the space",is_correct:false}] },
          { id: "15", prompt: "Which word means the same as 'you have'?", options: [{id:"a",text:"you're",is_correct:false},{id:"b",text:"you've",is_correct:true},{id:"c",text:"you'll",is_correct:false},{id:"d",text:"you'd",is_correct:false}] },
          { id: "16", prompt: "Identify the contraction: 'That's my coat.'", options: [{id:"a",text:"That's",is_correct:true},{id:"b",text:"my",is_correct:false},{id:"c",text:"coat",is_correct:false},{id:"d",text:"hanging",is_correct:false}] },
          { id: "17", prompt: "What does 'I'll' stand for?", options: [{id:"a",text:"I am",is_correct:false},{id:"b",text:"I will",is_correct:true},{id:"c",text:"I had",is_correct:false},{id:"d",text:"I have",is_correct:false}] },
          { id: "18", prompt: "Which contraction is used for 'who is'?", options: [{id:"a",text:"who'll",is_correct:false},{id:"b",text:"who's",is_correct:true},{id:"c",text:"who'd",is_correct:false},{id:"d",text:"who've",is_correct:false}] },
          { id: "19", prompt: "Which contraction is used for 'you would'?", options: [{id:"a",text:"you're",is_correct:false},{id:"b",text:"you'd",is_correct:true},{id:"c",text:"you'll",is_correct:false},{id:"d",text:"you've",is_correct:false}] },
          { id: "20", prompt: "What is the best way to do the ____?", options: [{id:"a",text:"job",is_correct:true},{id:"b",text:"test",is_correct:false},{id:"c",text:"game",is_correct:false},{id:"d",text:"play",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 123*\nStudent: [Name]\nScore: ${score}\n\n`;
        const message = encodeURIComponent(summary + correctList.join('\n\n') + '\n\n' + incorrectList.join('\n\n'));
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      init();
    })();
  </script>
</body>
</html>
