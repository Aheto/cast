<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 109 ‚Äî Voiced th Sound"/>
  <title>Mini OpenStax ‚Äî Lesson 109: Voiced th</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 109: Voiced th</h1>
        <div class="lo-tags" id="lo-tags">LO PH109: Decode words with the voiced 'th' sound.</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Words featuring the <strong>voiced th</strong> sound:</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. Note the vibration in your throat for the 'th' in these words:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      const currentChapter = 108;    // chapter-108.html = Lesson 109
      const maxChapter = 150;        

      const CHAPTER_CONFIG = {
        title: "Lesson 109: Voiced th",
        loTags: ["LO PH109: Decode words with the voiced 'th' sound."],
        contentWords: [
          "that", "than", "them", "then", "this", "thus", "smooth", "breathe"
        ],
        sentences: [
          "1) Kay can smooth the quilt on the bed.",
          "2) Paul will clean the truck and then wax it.",
          "3) Joan will give the pup less food than the dog.",
          "4) Pam did her best and thus did well on the test.",
          "5) Their mom said that she would pick them up at twelve.",
          "6) To get the lid off, twist it to the left and then lift.",
          "7) Roy will sand the board and then give it a smooth coat of paint.",
          "8) At the beach, Neal will sit in the sun and breathe the fresh sea air."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "What can Kay do to the quilt?", options: [{id:"a",text:"smooth it",is_correct:true},{id:"b",text:"breathe it",is_correct:false},{id:"c",text:"than it",is_correct:false},{id:"d",text:"then it",is_correct:false}] },
          { id: "2", prompt: "What will Paul do after cleaning the truck?", options: [{id:"a",text:"sand it",is_correct:false},{id:"b",text:"wax it",is_correct:true},{id:"c",text:"smooth it",is_correct:false},{id:"d",text:"lift it",is_correct:false}] },
          { id: "3", prompt: "Who gets less food than the dog?", options: [{id:"a",text:"the pup",is_correct:true},{id:"b",text:"the cat",is_correct:false},{id:"c",text:"the pig",is_correct:false},{id:"d",text:"the hen",is_correct:false}] },
          { id: "4", prompt: "Why did Pam do well on the test?", options: [{id:"a",text:"she was lucky",is_correct:false},{id:"b",text:"she did her best",is_correct:true},{id:"c",text:"she was thin",is_correct:false},{id:"d",text:"she had a coin",is_correct:false}] },
          { id: "5", prompt: "When will Mom pick them up?", options: [{id:"a",text:"at ten",is_correct:false},{id:"b",text:"at noon",is_correct:false},{id:"c",text:"at twelve",is_correct:true},{id:"d",text:"at dawn",is_correct:false}] },
          { id: "6", prompt: "How do you get the lid off?", options: [{id:"a",text:"twist left then lift",is_correct:true},{id:"b",text:"twist right then lift",is_correct:false},{id:"c",text:"squeeze and pull",is_correct:false},{id:"d",text:"hoist and pull",is_correct:false}] },
          { id: "7", prompt: "What will Roy do before giving the board a smooth coat of paint?", options: [{id:"a",text:"boil it",is_correct:false},{id:"b",text:"sand it",is_correct:true},{id:"c",text:"rinse it",is_correct:false},{id:"d",text:"weave it",is_correct:false}] },
          { id: "8", prompt: "Where will Neal breathe the fresh sea air?", options: [{id:"a",text:"at the park",is_correct:false},{id:"b",text:"at the beach",is_correct:true},{id:"c",text:"on the ranch",is_correct:false},{id:"d",text:"in the house",is_correct:false}] },
          { id: "9", prompt: "Which word rhymes with 'then'?", options: [{id:"a",text:"than",is_correct:false},{id:"b",text:"them",is_correct:false},{id:"c",text:"pen",is_correct:true},{id:"d",text:"that",is_correct:false}] },
          { id: "10", prompt: "Which word means to take in air?", options: [{id:"a",text:"breathe",is_correct:true},{id:"b",text:"smooth",is_correct:false},{id:"c",text:"thus",is_correct:false},{id:"d",text:"this",is_correct:false}] },
          { id: "11", prompt: "Which word is the opposite of 'rough'?", options: [{id:"a",text:"smooth",is_correct:true},{id:"b",text:"that",is_correct:false},{id:"c",text:"then",is_correct:false},{id:"d",text:"than",is_correct:false}] },
          { id: "12", prompt: "Which word refers to people previously mentioned?", options: [{id:"a",text:"them",is_correct:true},{id:"b",text:"this",is_correct:false},{id:"c",text:"that",is_correct:false},{id:"d",text:"thus",is_correct:false}] },
          { id: "13", prompt: "Complete the word: _ _ at (points to something over there).", options: [{id:"a",text:"th",is_correct:true},{id:"b",text:"sh",is_correct:false},{id:"c",text:"ch",is_correct:false},{id:"d",text:"wh",is_correct:false}] },
          { id: "14", prompt: "Which word means 'as a result'?", options: [{id:"a",text:"thus",is_correct:true},{id:"b",text:"this",is_correct:false},{id:"c",text:"that",is_correct:false},{id:"d",text:"than",is_correct:false}] },
          { id: "15", prompt: "Which word is used for comparison?", options: [{id:"a",text:"than",is_correct:true},{id:"b",text:"then",is_correct:false},{id:"c",text:"them",is_correct:false},{id:"d",text:"this",is_correct:false}] },
          { id: "16", prompt: "Which word is used for a point in time?", options: [{id:"a",text:"then",is_correct:true},{id:"b",text:"than",is_correct:false},{id:"c",text:"this",is_correct:false},{id:"d",text:"that",is_correct:false}] },
          { id: "17", prompt: "Which word refers to something right here?", options: [{id:"a",text:"this",is_correct:true},{id:"b",text:"that",is_correct:false},{id:"c",text:"then",is_correct:false},{id:"d",text:"them",is_correct:false}] },
          { id: "18", prompt: "Complete the word: sm _ _ th.", options: [{id:"a",text:"oo",is_correct:true},{id:"b",text:"oa",is_correct:false},{id:"c",text:"oi",is_correct:false},{id:"d",text:"ou",is_correct:false}] },
          { id: "19", prompt: "In 'voiced th', your vocal cords do what?", options: [{id:"a",text:"vibrate",is_correct:true},{id:"b",text:"stop",is_correct:false},{id:"c",text:"shout",is_correct:false},{id:"d",text:"whistle",is_correct:false}] },
          { id: "20", prompt: "Complete the word: brea _ _ e.", options: [{id:"a",text:"th",is_correct:true},{id:"b",text:"sh",is_correct:false},{id:"c",text:"ch",is_correct:false},{id:"d",text:"ck",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        form.innerHTML = CHAPTER_CONFIG.assessmentItems.map(q => `
          <div class="question">
            <strong>${q.id}. ${q.prompt}</strong>
            <div class="options">
              ${q.options.map(opt => `
                <div class="option">
                  <label>
                    <input type="radio" name="q${q.id}" value="${opt.id}" required> ${opt.id.toUpperCase()}. ${opt.text}
                  </label>
                </div>
              `).join('')}
            </div>
          </div>
        `).join('');
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOpt = item.options.find(o => o.is_correct);
          const isCorrect = userAns === correctOpt.id;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 109*\nStudent: [Name]\nScore: ${score}\n\n`;
        const message = encodeURIComponent(summary + correctList.join('\n\n') + '\n\n' + incorrectList.join('\n\n'));
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      init();
    })();
  </script>
</body>
</html>
