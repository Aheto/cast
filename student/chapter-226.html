<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Lesson 227 ‚Äî Short Vowel al = /awl/"/>
  <title>Mini OpenStax ‚Äî Lesson 227: al = /awl/</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff; color: #333; }
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
    .role-badge { background: #e9ecef; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; }
    .chapter-nav { margin: 1.2rem 0; display: flex; flex-wrap: wrap; gap: 0.4rem; justify-content: center; }
    .chapter-btn {
      padding: 0.4rem 0.8rem; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { background: #0056b3; }
    .section { margin-bottom: 1.5rem; }
    .word-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
    .word-item { background: #f8f9fa; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace; }
    .sentences { line-height: 1.6; }
    .quiz { margin-top: 2rem; }
    .question { margin-bottom: 1.2rem; }
    .options { margin-left: 1rem; }
    .option { margin: 0.4rem 0; }
    .btn { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 1rem; }
    .btn:hover { background: #218838; }
    .feedback { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007bff; }
    .correct { color: #28a745; }
    .incorrect { color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 id="chapter-title">Lesson 227: al = /awl/</h1>
        <div class="lo-tags" id="lo-tags">LO PH227: Decode words with al = /awl/</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main id="main-content">
      <div class="section">
        <h2>üî§ Word List</h2>
        <p>Words with the <strong>al = /awl/</strong> pattern:</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <div class="section">
        <h2>üìñ Practice Sentences</h2>
        <p>Read aloud. All words are decodable from Lessons 2‚Äì227:</p>
        <div class="sentences" id="sentences"></div>
      </div>

      <div class="quiz" id="quiz-container">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Select the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check Answers</button>
      </div>

      <div id="feedback"></div>
    </main>
  </div>

  <script>
    (function () {
      'use strict';

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      const currentChapter = 226;   // chapter-226.html = Lesson 227
      const maxChapter = 261;

      const CHAPTER_CONFIG = {
        title: "Lesson 227: al = /awl/",
        loTags: ["LO PH227: Decode words with al = /awl/"],
        contentWords: [
          "also", "alter", "almost", "always", "although", "halt", "malt", "salt", "bald",
          "calm", "palm", "false", "falter", "waltz", "Walter", "walnut", "wallet", "wallow", "swallow",
          "quality", "qualify"
        ],
        sentences: [
          "A waltz is a kind of dance.",
          "Walter always tries to do high quality work.",
          "A tailor can alter a suit to make it fit better.",
          "The girl held out her hand with the palm up.",
          "A squirrel can crack open a walnut with its teeth.",
          "Walter will sprinkle some salt and pepper on his food.",
          "Pete almost always keeps his wallet in his back pocket.",
          "If Kay studies hard, she can qualify for a top college.",
          "Joan must swallow the entire spoonful of medicine in one gulp."
        ],
        whatsappNumber: "233257320201",
        assessmentItems: [
          { id: "1", prompt: "Which word contains 'al' making /awl/?", options: [{id:"a",text:"salt",is_correct:true},{id:"b",text:"sat",is_correct:false},{id:"c",text:"sad",is_correct:false},{id:"d",text:"sap",is_correct:false}] },
          { id: "2", prompt: "Which is NOT a Lesson 227 word?", options: [{id:"a",text:"wallet",is_correct:false},{id:"b",text:"wallow",is_correct:false},{id:"c",text:"waterfall",is_correct:true},{id:"d",text:"walnut",is_correct:false}] },
          { id: "3", prompt: "In 'palm', what sound does 'al' make?", options: [{id:"a",text:"/awl/",is_correct:true},{id:"b",text:"/ƒÉl/",is_correct:false},{id:"c",text:"/√§l/",is_correct:false},{id:"d",text:"/≈çl/",is_correct:false}] },
          { id: "4", prompt: "Which word means 'to change the fit of clothing'?", options: [{id:"a",text:"alter",is_correct:true},{id:"b",text:"halt",is_correct:false},{id:"c",text:"malt",is_correct:false},{id:"d",text:"bald",is_correct:false}] },
          { id: "5", prompt: "How many letters in 'walnut'?", options: [{id:"a",text:"6",is_correct:true},{id:"b",text:"5",is_correct:false},{id:"c",text:"7",is_correct:false},{id:"d",text:"4",is_correct:false}] },
          { id: "6", prompt: "Which sentence uses only Lesson 227 words?", options: [{id:"a",text:"A waltz is a kind of dance.",is_correct:true},{id:"b",text:"She sat on a mat.",is_correct:false},{id:"c",text:"He ran fast.",is_correct:false},{id:"d",text:"They played ball.",is_correct:false}] },
          { id: "7", prompt: "Which word refers to the inner surface of the hand?", options: [{id:"a",text:"palm",is_correct:true},{id:"b",text:"salt",is_correct:false},{id:"c",text:"calm",is_correct:false},{id:"d",text:"halt",is_correct:false}] },
          { id: "8", prompt: "What pattern is in 'wallet'?", options: [{id:"a",text:"al = /awl/",is_correct:true},{id:"b",text:"Magic E",is_correct:false},{id:"c",text:"Closed syllable",is_correct:false},{id:"d",text:"Vowel team 'ie'",is_correct:false}] },
          { id: "9", prompt: "In 'Walter will sprinkle some salt and pepper on his food,' how many Lesson 227 words?", options: [{id:"a",text:"2",is_correct:true},{id:"b",text:"1",is_correct:false},{id:"c",text:"3",is_correct:false},{id:"d",text:"0",is_correct:false}] },
          { id: "10", prompt: "Which word means 'not completely bald, but nearly so'?", options: [{id:"a",text:"bald",is_correct:true},{id:"b",text:"waltz",is_correct:false},{id:"c",text:"Walter",is_correct:false},{id:"d",text:"swallow",is_correct:false}] },
          { id: "11", prompt: "Which word describes someone who is peaceful and not excited?", options: [{id:"a",text:"calm",is_correct:true},{id:"b",text:"false",is_correct:false},{id:"c",text:"falter",is_correct:false},{id:"d",text:"halt",is_correct:false}] },
          { id: "12", prompt: "Which word means 'to take something into the stomach through the mouth'?", options: [{id:"a",text:"swallow",is_correct:true},{id:"b",text:"wallow",is_correct:false},{id:"c",text:"walnut",is_correct:false},{id:"d",text:"wallet",is_correct:false}] },
          { id: "13", prompt: "Which sentence is from Lesson 227?", options: [{id:"a",text:"The girl held out her hand with the palm up.",is_correct:true},{id:"b",text:"She likes apples.",is_correct:false},{id:"c",text:"He jumped high.",is_correct:false},{id:"d",text:"They walked home.",is_correct:false}] },
          { id: "14", prompt: "How many consonants in 'qualify'?", options: [{id:"a",text:"5",is_correct:true},{id:"b",text:"4",is_correct:false},{id:"c",text:"6",is_correct:false},{id:"d",text:"3",is_correct:false}] },
          { id: "15", prompt: "Which word means 'to meet the standards for something'?", options: [{id:"a",text:"qualify",is_correct:true},{id:"b",text:"quality",is_correct:false},{id:"c",text:"alter",is_correct:false},{id:"d",text:"although",is_correct:false}] },
          { id: "16", prompt: "What phonics pattern is in 'almost'?", options: [{id:"a",text:"al = /awl/",is_correct:true},{id:"b",text:"Magic E",is_correct:false},{id:"c",text:"Closed syllable",is_correct:false},{id:"d",text:"Vowel team 'ie'",is_correct:false}] },
          { id: "17", prompt: "Which word refers to a smooth, hard-shelled nut that grows on trees?", options: [{id:"a",text:"walnut",is_correct:true},{id:"b",text:"wallet",is_correct:false},{id:"c",text:"waltz",is_correct:false},{id:"d",text:"wallow",is_correct:false}] },
          { id: "18", prompt: "Which word might complete: 'He felt sick and began to ___.'?", options: [{id:"a",text:"wallow",is_correct:false},{id:"b",text:"swallow",is_correct:false},{id:"c",text:"halt",is_correct:true},{id:"d",text:"falter",is_correct:true}] },
          { id: "19", prompt: "Which word appears in both the word list and sentences?", options: [{id:"a",text:"Walter",is_correct:true},{id:"b",text:"salt",is_correct:true},{id:"c",text:"walnut",is_correct:true},{id:"d",text:"All of the above",is_correct:true}] },
          { id: "20", prompt: "What phonics concept is taught in Lesson 227?", options: [{id:"a",text:"Short vowel al = /awl/",is_correct:true},{id:"b",text:"Split vowel pairs",is_correct:false},{id:"c",text:"Magic E",is_correct:false},{id:"d",text:"R-controlled vowels",is_correct:false}] }
        ]
      };

      function renderWords() {
        const container = document.getElementById('word-list');
        container.innerHTML = CHAPTER_CONFIG.contentWords.map(word =>
          `<span class="word-item">${word}</span>`
        ).join('');
      }

      function renderSentences() {
        const container = document.getElementById('sentences');
        container.innerHTML = CHAPTER_CONFIG.sentences.map(s =>
          `<p>${s}</p>`
        ).join('');
      }

      function renderNavigation() {
        const nav = document.getElementById('chapter-nav');
        const buttons = [];
        buttons.push({ label: "Home", url: "../index.html", active: false });
        for (let i = 0; i < 4; i++) {
          const chapterNum = currentChapter + i;
          if (chapterNum > maxChapter) break;
          const lessonNum = chapterNum + 1;
          buttons.push({
            label: `Lesson ${lessonNum}`,
            url: `chapter-${chapterNum}.html`,
            active: (i === 0)
          });
        }
        nav.innerHTML = buttons.map(btn => `
          <a href="${btn.url}" class="chapter-btn ${btn.active ? 'active' : ''}">
            ${btn.label}
          </a>
        `).join('');
      }

      function renderQuiz() {
        const form = document.getElementById('quiz-form');
        window.quizCorrectMap = {};

        const quizHTML = CHAPTER_CONFIG.assessmentItems.map(q => {
          let shuffledOptions = [...q.options];
          shuffle(shuffledOptions);

          const correctOpt = q.options.find(opt => opt.is_correct);
          window.quizCorrectMap[q.id] = correctOpt.id;

          const optionsHTML = shuffledOptions.map((opt, idx) => {
            const label = String.fromCharCode(97 + idx).toUpperCase();
            return `
              <div class="option">
                <label>
                  <input type="radio" name="q${q.id}" value="${opt.id}" required> ${label}. ${opt.text}
                </label>
              </div>
            `;
          }).join('');

          return `
            <div class="question">
              <strong>${q.id}. ${q.prompt}</strong>
              <div class="options">
                ${optionsHTML}
              </div>
            </div>
          `;
        }).join('');

        form.innerHTML = quizHTML;
      }

      function showFeedback(answers) {
        const items = CHAPTER_CONFIG.assessmentItems;
        let correctCount = 0;
        let correctList = [], incorrectList = [];

        items.forEach((item, i) => {
          const userAns = answers[i];
          const correctOptId = window.quizCorrectMap[item.id];
          const correctOpt = item.options.find(o => o.id === correctOptId);
          const isCorrect = userAns === correctOptId;
          if (isCorrect) {
            correctCount++;
            correctList.push(`${item.id}. ${item.prompt}\n   ‚úÖ Correct: ${correctOpt.text}`);
          } else {
            incorrectList.push(`${item.id}. ${item.prompt}\n   ‚ùå You chose: ${item.options.find(o => o.id === userAns)?.text || '‚Äî'}\n   ‚úÖ Correct: ${correctOpt.text}`);
          }
        });

        const score = `${correctCount}/20}`;
        const summary = `*Mini OpenStax ‚Äî Phonics Lesson 227*\nStudent: [Name]\nScore: ${score}\n\n`;
        const correctStr = correctList.length ? '‚úÖ CORRECT:\n' + correctList.join('\n\n') + '\n\n' : '';
        const incorrectStr = incorrectList.length ? '‚ùå INCORRECT:\n' + incorrectList.join('\n\n') : '';
        const message = encodeURIComponent(summary + correctStr + incorrectStr + `\nReport generated via Mini OpenStax. Share with instructor: https://wa.me/${CHAPTER_CONFIG.whatsappNumber}`);
        const whatsappLink = `https://wa.me/${CHAPTER_CONFIG.whatsappNumber}?text=${message}`;

        document.getElementById('feedback').innerHTML = `
          <div class="feedback">
            <h3>üìä Results: ${score}</h3>
            <p><strong>${correctCount >= 15 ? 'Excellent! You‚Äôve mastered al=/awl/!' : correctCount >= 10 ? 'Good! Review missed items.' : 'Practice Lesson 227 words again.'}</strong></p>
            <p><a href="${whatsappLink}" target="_blank" class="btn" style="background:#25D366;display:inline-block;text-decoration:none;">üì≤ Send Report to Instructor</a></p>
          </div>
        `;
      }

      function setupQuizListeners() {
        document.getElementById('submit-quiz').addEventListener('click', () => {
          const form = document.getElementById('quiz-form');
          const answers = [];
          for (let i = 1; i <= 20; i++) {
            const selected = form.querySelector(`input[name="q${i}"]:checked`);
            answers.push(selected ? selected.value : null);
          }
          if (answers.includes(null)) {
            alert("Please answer all questions.");
            return;
          }
          showFeedback(answers);
        });
      }

      function init() {
        document.getElementById('chapter-title').textContent = CHAPTER_CONFIG.title;
        document.getElementById('lo-tags').textContent = CHAPTER_CONFIG.loTags[0];
        renderNavigation();
        renderWords();
        renderSentences();
        renderQuiz();
        setupQuizListeners();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
